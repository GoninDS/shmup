pico-8 cartridge // http://www.pico-8.com
version 42
__lua__
-- main

function _init()
	ship_x=64
	ship_y=64
	x_speed=0
	y_speed=0
	bullet_x=-25
	bullet_y=0
	plasma_x=-25
	plasma_y=0
	ship_sprite=2
	flame_sprite=4
	muzzle=0
	flash=0
end

function _update()
	ship_movement()
	shoot()
	flame()
end

function _draw()
	cls(1)
	spr(17,bullet_x,bullet_y)
	spr(16,plasma_x,plasma_y)
	spr(ship_sprite,ship_x,ship_y)
	spr(flame_sprite,ship_x,ship_y+8)
	if muzzle > 0 then
		circfill(ship_x,ship_y,muzzle,8)
		circfill(ship_x+7,ship_y,muzzle,8)
		muzzle-=0.25		
	end
	if flash > 0 then
		circfill(ship_x+3,ship_y-1,flash,7)
		flash-=1
	end
end

function ship_movement()
	x_speed=0
	ship_sprite=2
	if btn(0) then
			x_speed=-2
			ship_sprite=1
	end
	
	if btn(1) then
		x_speed=2
		ship_sprite=3
	end
	
	ship_x+=x_speed
	
	y_speed=0
	if btn(2) then
		y_speed=-2
	end
	
	if btn(3) then
		y_speed=2
	end
	
	ship_y+=y_speed
	
	if ship_x>125 then
		ship_x=0
	end
	
	if ship_x<-5 then
		ship_x=125
	end
	
	if ship_y>120 then
		ship_y=120
	end
	
	if ship_y<0 then
		ship_y=0
	end
end

function shoot()
	bullet_y+=-4
	plasma_y+=-2.5
	if btnp(5) then
		muzzle=2
		bullet_x=ship_x
		bullet_y=ship_y-4
		sfx(0)
	end
	if btnp(4) then
		--flash=5
		plasma_x=ship_x
		plasma_y=ship_y-4
		sfx(1)
	end
end

function flame()
	flame_sprite+=1
	if flame_sprite>9 then
		flame_sprite=4
	end
end
__gfx__
00000000000000000000000000000000088888800088880000088000000880000088880008888880000000000000000000000000000000000000000000000000
00000000000220000002200000022000008888000008800000088000000880000008800000888800000000000000000000000000000000000000000000000000
00700700002ee200002ee200002ee200000880000008800000088000000880000008800000088000000000000000000000000000000000000000000000000000
00077000002ee206602ee206602ee200000000000000000000088000000880000000000000000000000000000000000000000000000000000000000000000000
00077000d2eeee2dd2eeee2dd2eeee2d000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700deeeeeeddeeeeeeddeeeeeed000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000002eeeeee22eeeeee22eeeeee2000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000022222200222222002222220000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00022000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
002ee200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
02e77e20000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
2e7777e2000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
2e7777e2000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
02e77e20200000020000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
002ee200200000020000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00022000200000020000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__sfx__
000100000000037540335302e5202a52025520205201e5201a52016520125200e5200b5200952006520055200260000600006000850007500065000650000600006000160002600026000b0000a0000000004600
0001000024730227301d7301973013730107300e7300d7300c7300c7300c7300c7300c7300c7300c7300d7300d7300e7300e73004730015300000000000000000000000000000000000000000000000000000000
